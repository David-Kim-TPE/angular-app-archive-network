<div class="signup-panel">
  <div *ngIf="errorMessage" class="alert alert-danger" role="alert">
    <strong>Error:</strong> {{errorMessage}}
  </div>
  <h2>註冊</h2>
  
  <form (ngSubmit)="signupForm.form.valid && onSignUp()" #signupForm="ngForm" class="signup-form" novalidate name="form">
    <table>
      <colgroup>
        <col span="1">
        <col span="1">
      </colgroup>
      <tr class="signup-form__tr">
        <td>
          <label for="id" class="signup-form__label required">ID</label>
        </td>
        <td>
          <input class="form__input" type="text" [(ngModel)]="signUp.id" #id="ngModel" name="id" [ngClass]="{ 'form__input-invalid': signupForm.submitted && id.invalid }"
            required>
          <div *ngIf="signupForm.submitted && id.invalid" class="invalid-feedback">
            <div *ngIf="id.errors.required"> ID 是必要欄位</div>
          </div>
        </td>
      </tr>
      <tr class="signup-form__tr">
        <td>
          <label for="firstName" class="signup-form__label required">名字</label>
        </td>
        <td>
          <input class="form__input" type="text" [(ngModel)]="signUp.firstName" #firstName="ngModel" name="firstName" [ngClass]="{ 'form__input-invalid': signupForm.submitted && firstName.invalid }"
            required>
          <div *ngIf="signupForm.submitted && firstName.invalid" class="invalid-feedback">
            <div *ngIf="firstName.errors.required">名字為必要欄位d</div>
          </div>
        </td>
      </tr>
      <tr class="signup-form__tr">
        <td>
          <label for="surname" class="signup-form__label required"> 姓 </label>
        </td>
        <td>
          <input class="form__input" type="text" [(ngModel)]="signUp.surname" #surname="ngModel" name="surname" [ngClass]="{ 'form__input-invalid': signupForm.submitted && surname.invalid }"
            required>
          <div *ngIf="signupForm.submitted && surname.invalid" class="invalid-feedback">
            <div *ngIf="surname.errors.required"> 姓為必要欄位</div>
          </div>
        </td>
      </tr>
      <tr class="signup-form__tr">
        <td>
          <label for="role" class="signup-form__label required"> 角色 </label>
        </td>
        <td>

          <select class="form__input" [(ngModel)]="signUp.role" name="role" #role="ngModel" [ngClass]="{ 'form__input-invalid': signupForm.submitted && role.invalid }" required>
            <option value="Secretary">秘書</option>
            <option value="Querent">調閱人</option>
          </select>
          <div *ngIf="signupForm.submitted && role.invalid" class="invalid-feedback">
            <div *ngIf="role.errors.required"> 角色為必要欄位</div>
          </div>
        </td>
      </tr>
    </table>
    <button type="submit" class="signup-form__submit-button">
      <div *ngIf="!signUpInProgress">
        <span>註冊</span>
      </div>
      <div *ngIf="signUpInProgress">
        <div class="loader16">
        </div>
      </div>
    </button>
  </form>
</div>